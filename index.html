<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RunStats - EPS Vauban</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
  <script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>

  <header>
    <h1>RunStats</h1>
  </header>

  <main id="studentInput">
    <section class="input-duo">
      <div class="eleve">
        <h2>√âl√®ve 1</h2>
        <input type="text" id="nom1" placeholder="Nom" required />
        <input type="text" id="prenom1" placeholder="Pr√©nom" required />
        <select id="sexe1" required>
          <option value="" disabled selected>Sexe</option>
          <option value="M">Gar√ßon</option>
          <option value="F">Fille</option>
        </select>
        <input type="text" id="classe1" placeholder="Classe" required />
      </div>

      <div class="eleve">
        <h2>√âl√®ve 2</h2>
        <input type="text" id="nom2" placeholder="Nom" required />
        <input type="text" id="prenom2" placeholder="Pr√©nom" required />
        <select id="sexe2" required>
          <option value="" disabled selected>Sexe</option>
          <option value="M">Gar√ßon</option>
          <option value="F">Fille</option>
        </select>
        <input type="text" id="classe2" placeholder="Classe" required />
      </div>
    </section>

    <section class="input-groupe">
      <input type="number" id="duree" placeholder="Dur√©e (min)" min="0.1" step="0.1" required />
      <input type="number" id="distanceTour" placeholder="Distance d‚Äôun tour (m)" min="1" required />
      <input type="number" id="vmaRef" placeholder="VMA de r√©f√©rence (km/h) (optionnel)" min="0" step="0.1" />
    </section>

    <section id="chrono">
      <p id="chronoDisplay">00:00</p>
      <div class="chrono-btns">
        <button id="startBtn" class="btn-start">D√©marrer</button>
        <button id="lapBtn" class="btn-lap" disabled>Ajouter 1 tour</button>
        <button id="resetBtn" class="btn-reset" disabled>Reset</button>
      </div>
      <p>Tours : <span id="lapsCount">0</span></p>
    </section>

    <section id="statsBox">
      <div class="stat ligne-bleue">
        <div>Distance totale (m)</div>
        <div id="distanceTotal">0</div>
      </div>
      <div class="stat ligne-jaune">
        <div>Vitesse moyenne (km/h)</div>
        <div id="vitesseMoy">0.00</div>
      </div>
      <div class="stat ligne-violette">
        <div>VMA estim√©e (km/h)</div>
        <div id="vmaReal">0.00</div>
      </div>
    </section>

    <section id="etatForme" style="display: none;">
      <p>Comment te sens-tu ?</p>
      <button class="etatBtn" data-etat="Tr√®s bien">üí™ Tr√®s bien</button>
      <button class="etatBtn" data-etat="Moyen">üòê Moyen</button>
      <button class="etatBtn" data-etat="Fatigu√©">üò´ Fatigu√©</button>
    </section>

    <section id="qrContainer" style="display: none;">
      <h3>QR Code √† scanner</h3>
      <div id="qrCodeBox"></div>
    </section>
  </main>

  <main id="profDashboard" style="display: none;">
    <h2>Espace Professeur</h2>

    <div id="qr-scan-container">
      <div id="qr-reader" style="width: 320px; margin: 0 auto;"></div>
      <button id="stopScanBtn">Arr√™ter le scan</button>
    </div>

    <button id="exportCsvBtn">Exporter CSV</button>
    <button id="generateGroupsBtn">Cr√©er Groupes</button>
    <div id="groupsDisplay"></div>

    <table>
      <thead>
        <tr>
          <th>Groupe</th>
          <th>Nom</th>
          <th>Pr√©nom</th>
          <th>Sexe</th>
          <th>Classe</th>
          <th>Dur√©e</th>
          <th>Distance (m)</th>
          <th>Vitesse (km/h)</th>
          <th>VMA (km/h)</th>
          <th>√âtat</th>
        </tr>
      </thead>
      <tbody id="resultsBody"></tbody>
    </table>
  </main>

  <section id="profAccess">
    <input type="password" id="profPinInput" placeholder="Code Prof" />
    <button id="profPinSubmit">Entrer</button>
    <button id="logoutBtn" style="display:none;">D√©connexion</button>
  </section>

  <footer id="footer">
    <p>RunStats - √âquipe EPS Lyc√©e Vauban - Luxembourg - JB</p>
  </footer>

  <script src="script.js"></script>
</body>
</html>
