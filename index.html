<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RunStats - Equipe EPS Lyc√©e Vauban</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/html5-qrcode@2.3.7/minified/html5-qrcode.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
</head>
<body>
  <header>
    <h1>RunStats - Equipe EPS Lyc√©e Vauban - Luxembourg</h1>
  </header>
  <main>
    <!-- √âl√®ves section -->
    <section id="elevesSection">
      <div class="input-duo">
        <div class="eleve">
          <h2>√âl√®ve 1</h2>
          <label>Nom<br /><input type="text" id="nom1" /></label>
          <label>Pr√©nom<br /><input type="text" id="prenom1" /></label>
          <label>Sexe<br />
            <select id="sexe1">
              <option value="">--</option>
              <option value="M">Gar√ßon</option>
              <option value="F">Fille</option>
            </select>
          </label>
          <label>Classe<br /><input type="text" id="classe1" /></label>
        </div>
        <div class="eleve">
          <h2>√âl√®ve 2</h2>
          <label>Nom<br /><input type="text" id="nom2" /></label>
          <label>Pr√©nom<br /><input type="text" id="prenom2" /></label>
          <label>Sexe<br />
            <select id="sexe2">
              <option value="">--</option>
              <option value="M">Gar√ßon</option>
              <option value="F">Fille</option>
            </select>
          </label>
          <label>Classe<br /><input type="text" id="classe2" /></label>
        </div>
      </div>

      <div class="input-groupe">
        <label>
          Dur√©e (minutes)<br />
          <input type="number" id="duree" min="1" />
        </label>
        <label>
          Distance d‚Äôun tour (m√®tres)<br />
          <input type="number" id="distanceTour" min="1" />
        </label>
        <label>
          VMA de r√©f√©rence (optionnel)<br />
          <input type="number" id="vmaRef" step="0.01" />
        </label>
      </div>

      <div id="chrono">
        <div id="chronoDisplay">00:00</div>
        <div class="chrono-btns">
          <button class="btn-start" id="startBtn">D√©marrer</button>
          <button class="btn-lap" id="lapBtn" disabled>‚ûï Tour</button>
          <button class="btn-reset" id="resetBtn" disabled>Reset</button>
        </div>
      </div>

      <div id="statsBox">
        <div class="stat ligne-bleue">
          Distance totale (m)<br />
          <span id="distanceTotal">0</span>
        </div>
        <div class="stat ligne-verte">
          Vitesse moyenne (km/h)<br />
          <span id="vitesseMoy">0.00</span>
        </div>
        <div class="stat ligne-jaune">
          VMA estim√©e (km/h)<br />
          <span id="vmaReal">0.00</span>
        </div>
      </div>

      <div id="etatForme" style="display:none;">
        <h2>√âtat de forme</h2>
        <button class="etatBtn" data-etat="üòÄ">Tr√®s bien üòÄ</button>
        <button class="etatBtn" data-etat="üòñ">Grimace üòñ</button>
        <button class="etatBtn" data-etat="ü§Æ">Vomis ü§Æ</button>
      </div>

      <div id="qrContainer" style="display:none; text-align:center; margin-top:1em;">
        <h2>QR Code des deux courses</h2>
        <div id="qrCodeBox"></div>
      </div>
    </section>

    <!-- Espace Prof -->
    <section id="profSection" style="display:none; margin-top:2em;">
      <h2>Espace Professeur</h2>
      <label>Code d'acc√®s : <input type="password" id="profPinInput" /></label>
      <button id="profPinSubmit">Valider</button>
      <button id="logoutBtn" style="display:none;">D√©connexion</button>

      <div id="qr-scan-container" style="margin-top:1em; display:none;">
        <div id="qr-reader" style="width: 300px; margin: auto;"></div>
        <button id="stopScanBtn">Arr√™ter le scan</button>
      </div>

      <table>
        <thead>
          <tr>
            <th>Nom</th>
            <th>Pr√©nom</th>
            <th>Sexe</th>
            <th>Classe</th>
            <th>Dur√©e (min)</th>
            <th>Distance (m)</th>
            <th>Vitesse (km/h)</th>
            <th>VMA (km/h)</th>
            <th>√âtat</th>
          </tr>
        </thead>
        <tbody id="resultsBody"></tbody>
      </table>

      <button id="exportCsvBtn" style="margin-top:1em;">Exporter CSV</button>
    </section>

    <footer>
      RunStats - Equipe EPS Lyc√©e Vauban - Luxembourg - JB
    </footer>
  </main>

  <script src="script.js"></script>
</body>
</html>
