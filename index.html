<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RunStats - Binômes</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div class="container">
    <h1>RunStats – Binôme</h1>

    <!-- Formulaire élève 1 -->
    <div class="eleve-block">
      <h2>Élève 1 (Coureur)</h2>
      <input type="text" id="nom1" placeholder="Nom" />
      <input type="text" id="prenom1" placeholder="Prénom" />
      <input type="text" id="classe1" placeholder="Classe" />
      <input type="number" id="duree1" placeholder="Durée (min)" />
      <input type="number" id="distanceTour1" placeholder="Distance d’un tour (m)" />
      <input type="number" id="vmaRef1" placeholder="VMA de référence (km/h)" />
      <div class="chrono-block">
        <p>Chrono : <span id="chronoDisplay1">00:00</span></p>
        <p>Tours : <span id="lapsCount1">0</span></p>
      </div>
      <div class="btns">
        <button id="startBtn1">Démarrer</button>
        <button id="lapBtn1" disabled>+1 Tour</button>
        <button id="resetBtn1">Reset</button>
      </div>
      <div id="etatForme1" class="etat-forme" style="display:none;">
        <p>Sensations :</p>
        <button class="etatBtn" data-eleve="1" data-etat="Très Bien">😄</button>
        <button class="etatBtn" data-eleve="1" data-etat="Fatigué">😐</button>
        <button class="etatBtn" data-eleve="1" data-etat="Mal">🤢</button>
      </div>
    </div>

    <!-- Formulaire élève 2 -->
    <div class="eleve-block">
      <h2>Élève 2 (Observateur puis Coureur)</h2>
      <input type="text" id="nom2" placeholder="Nom" />
      <input type="text" id="prenom2" placeholder="Prénom" />
      <input type="text" id="classe2" placeholder="Classe" />
      <input type="number" id="duree2" placeholder="Durée (min)" />
      <input type="number" id="distanceTour2" placeholder="Distance d’un tour (m)" />
      <input type="number" id="vmaRef2" placeholder="VMA de référence (km/h)" />
      <div class="chrono-block">
        <p>Chrono : <span id="chronoDisplay2">00:00</span></p>
        <p>Tours : <span id="lapsCount2">0</span></p>
      </div>
      <div class="btns">
        <button id="startBtn2">Démarrer</button>
        <button id="lapBtn2" disabled>+1 Tour</button>
        <button id="resetBtn2">Reset</button>
      </div>
      <div id="etatForme2" class="etat-forme" style="display:none;">
        <p>Sensations :</p>
        <button class="etatBtn" data-eleve="2" data-etat="Très Bien">😄</button>
        <button class="etatBtn" data-eleve="2" data-etat="Fatigué">😐</button>
        <button class="etatBtn" data-eleve="2" data-etat="Mal">🤢</button>
      </div>
    </div>

    <div class="groupe-actions">
      <button id="generateQR">🎯 Générer QR Code du groupe</button>
      <div id="qrResult"></div>
    </div>
  </div>

  <footer id="footer">
    <p>Équipe EPS Lycée Vauban – JB</p>
  </footer>

  <script src="https://unpkg.com/html5-qrcode"></script>
  <script src="script.js"></script>
  <!-- Mode Prof -->
<div id="profSection" style="display: none;">
  <h2>👨‍🏫 Mode Prof</h2>

  <div id="qr-reader" style="width: 250px;"></div>
  <button id="stopScanBtn">Arrêter le scan</button>

  <h3>Groupes scannés</h3>
  <table id="profTable" border="1">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Prénom</th>
        <th>VMA</th>
        <th>État</th>
        <th>Chrono</th>
      </tr>
    </thead>
    <tbody id="profTableBody"></tbody>
  </table>

  <button id="genererGroupesBtn">Générer groupes hétérogènes</button>
  <button id="exportGroupesBtn">Exporter CSV</button>

  <div id="groupesFinal"></div>
</div>

<!-- Bouton secret d’accès prof -->
<footer id="footer" style="text-align: center; margin-top: 2rem;">
  <small>Application équipe EPS Lycée Vauban - JB</small>
</footer>
  <script src="https://unpkg.com/html5-qrcode"></script>
</body>
</html>
