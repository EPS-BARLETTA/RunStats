<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RunStats - Equipe EPS Lyc√©e Vauban - Luxembourg</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
  <script src="https://unpkg.com/html5-qrcode@2.3.7/minified/html5-qrcode.min.js"></script>
</head>
<body>
  <header>
    <h1>RunStats - Equipe EPS Lyc√©e Vauban - Luxembourg</h1>
  </header>

  <main>
    <section id="studentInput">
      <div class="input-duo">
        <div class="eleve">
          <h2>√âl√®ve 1</h2>
          <label>Nom <input type="text" id="nom1" /></label>
          <label>Pr√©nom <input type="text" id="prenom1" /></label>
          <label>Sexe
            <select id="sexe1">
              <option value="M">Gar√ßon</option>
              <option value="F">Fille</option>
            </select>
          </label>
          <label>Classe <input type="text" id="classe1" /></label>
        </div>
        <div class="eleve">
          <h2>√âl√®ve 2</h2>
          <label>Nom <input type="text" id="nom2" /></label>
          <label>Pr√©nom <input type="text" id="prenom2" /></label>
          <label>Sexe
            <select id="sexe2">
              <option value="M">Gar√ßon</option>
              <option value="F">Fille</option>
            </select>
          </label>
          <label>Classe <input type="text" id="classe2" /></label>
        </div>
      </div>

      <div class="input-groupe">
        <label>Dur√©e (min)
          <input type="number" id="duree" min="1" />
        </label>
        <label>Distance d'un tour (m)
          <input type="number" id="distanceTour" min="1" />
        </label>
        <label>VMA R√©f√©rence (optionnel)
          <input type="number" id="vmaRef" step="0.01" />
        </label>
      </div>

      <div id="chrono">
        <div id="chronoDisplay">00:00</div>
        <div class="chrono-btns">
          <button id="startBtn" class="btn-start">D√©marrer</button>
          <button id="lapBtn" class="btn-lap" disabled>+ Tour</button>
          <button id="resetBtn" class="btn-reset" disabled>Reset</button>
        </div>
        <div id="lapsCount" style="text-align:center; font-weight:bold;">0 tours</div>
      </div>

      <div id="statsBox">
        <div class="stat ligne-bleue">
          Distance totale (m)
          <div id="distanceTotal">0</div>
        </div>
        <div class="stat ligne-verte">
          Vitesse moyenne (km/h)
          <div id="vitesseMoy">0.00</div>
        </div>
        <div class="stat ligne-jaune">
          VMA estim√©e (km/h)
          <div id="vmaReal">0.00</div>
        </div>
      </div>

      <div id="etatForme" style="display:none;">
        <h3>√âtat de forme</h3>
        <button class="etatBtn" data-etat="üòä Tr√®s bien">üòä Tr√®s bien</button>
        <button class="etatBtn" data-etat="üò£ Difficile">üò£ Difficile</button>
        <button class="etatBtn" data-etat="ü§Æ Tr√®s mal">ü§Æ Tr√®s mal</button>
      </div>
    </section>

    <section id="qrContainer" style="display:none; text-align:center;">
      <h2>QR Code des r√©sultats</h2>
      <div id="qrCodeBox"></div>
    </section>

    <section id="profAccess" style="margin-top:3em;">
      <h2>Acc√®s Professeur</h2>
      <input type="password" id="profPinInput" placeholder="Code Prof" />
      <button id="profPinSubmit">Connexion</button>
      <button id="logoutBtn" style="display:none;">D√©connexion</button>

      <div id="profDashboard" style="display:none; margin-top:1em;">
        <div id="qr-scan-container">
          <div id="qr-reader" style="width: 300px; margin: auto;"></div>
          <button id="stopScanBtn">Arr√™ter le scan</button>
        </div>
        <button id="exportCsvBtn">Exporter CSV</button>
        <table>
          <thead>
            <tr>
              <th>#</th>
              <th>Nom</th>
              <th>Pr√©nom</th>
              <th>Sexe</th>
              <th>Classe</th>
              <th>Dur√©e (min)</th>
              <th>Distance (m)</th>
              <th>Vitesse (km/h)</th>
              <th>VMA (km/h)</th>
              <th>√âtat</th>
            </tr>
          </thead>
          <tbody id="resultsBody"></tbody>
        </table>
      </div>
    </section>
  </main>

  <footer>
    RunStats - Equipe EPS Lyc√©e Vauban - Luxembourg - JB
  </footer>

  <script src="script.js"></script>
</body>
</html>
