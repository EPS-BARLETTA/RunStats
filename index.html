<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RunStats - Equipe EPS Lyc√©e Vauban</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="https://unpkg.com/html5-qrcode@2.3.8/minified/html5-qrcode.min.js"></script>
</head>
<body>
  <header>
    <h1>RunStats - Equipe EPS Lyc√©e Vauban - Luxembourg</h1>
    <h2>Chronom√®tre et statistiques de course</h2>
  </header>
  <main>
    <section id="inputSection" class="input-duo">
      <div class="eleve">
        <h3>√âl√®ve 1</h3>
        <label>Nom <input type="text" id="nom1" /></label>
        <label>Pr√©nom <input type="text" id="prenom1" /></label>
        <label>Classe <input type="text" id="classe1" /></label>
        <label>Sexe
          <select id="sexe1">
            <option value="M">Gar√ßon</option>
            <option value="F">Fille</option>
          </select>
        </label>
      </div>
      <div class="eleve">
        <h3>√âl√®ve 2</h3>
        <label>Nom <input type="text" id="nom2" /></label>
        <label>Pr√©nom <input type="text" id="prenom2" /></label>
        <label>Classe <input type="text" id="classe2" /></label>
        <label>Sexe
          <select id="sexe2">
            <option value="M">Gar√ßon</option>
            <option value="F">Fille</option>
          </select>
        </label>
      </div>
    </section>

    <section id="chrono">
      <div>
        <label>Dur√©e (min)
          <input type="number" id="duree" min="1" max="60" value="10" />
        </label>
        <label>Distance tour (m)
          <input type="number" id="distanceTour" min="10" max="500" value="400" />
        </label>
      </div>

      <div id="chronoDisplay">00:00</div>

      <div class="chrono-btns">
        <button id="startBtn" class="btn-start">D√©marrer</button>
        <button id="lapBtn" class="btn-lap" disabled>Tour</button>
        <button id="resetBtn" class="btn-reset" disabled>R√©initialiser</button>
      </div>

      <div>Laps: <span id="lapsCount">0</span></div>
    </section>

    <section id="statsBox">
      <div id="distanceTotal" class="stat ligne-bleue"></div>
      <div id="vitesseMoy" class="stat ligne-verte"></div>
      <div id="vmaReal" class="stat ligne-jaune"></div>
    </section>

    <section id="etatForme">
      <h3>√âtat de forme - Choisissez un emoji</h3>
      <button class="etatBtn" data-etat="üòÉ">Tr√®s bien üòÉ</button>
      <button class="etatBtn" data-etat="üôÇ">Bien üôÇ</button>
      <button class="etatBtn" data-etat="üòê">Moyen üòê</button>
      <button class="etatBtn" data-etat="üòì">Fatigu√© üòì</button>
    </section>

    <section id="qrCodeBox" style="display:none;">
      <h3>QR Code des deux coureurs</h3>
      <div id="qrContainer"></div>
    </section>

    <section id="profAccess">
      <h3>Acc√®s Professeur</h3>
      <input type="password" id="profPinInput" placeholder="Code professeur" />
      <button id="profPinSubmit">Valider</button>
      <button id="logoutBtn" style="display:none;">D√©connexion</button>
    </section>

    <section id="studentInput">
      <!-- Visible par d√©faut -->
    </section>

    <section id="profDashboard" style="display:none;">
      <h3>R√©sultats des courses</h3>
      <button id="exportCsvBtn">Exporter CSV</button>
      <button id="groupBtn">Cr√©er groupes mixit√© + VMA</button>
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Nom</th>
            <th>Pr√©nom</th>
            <th>Classe</th>
            <th>Sexe</th>
            <th>Dur√©e (min)</th>
            <th>Distance (m)</th>
            <th>Vitesse (km/h)</th>
            <th>VMA (km/h)</th>
            <th>√âtat</th>
          </tr>
        </thead>
        <tbody id="resultsBody"></tbody>
      </table>

      <div id="groupesResult"></div>

      <div id="qr-scan-container">
        <h4>Scanner QR Code des √©l√®ves</h4>
        <div id="qr-reader" style="width:300px; margin:auto;"></div>
        <button id="stopScanBtn">Arr√™ter le scan</button>
      </div>
    </section>
  </main>

  <footer>
    RunStats - Equipe EPS Lyc√©e Vauban - Luxembourg - JB
  </footer>

  <script src="script.js"></script>
</body>
</html>
